# 从url输入发生了什么

- dns解析
- tcp连接
- http请求
- 服务器处理请求后返回响应报文
- 浏览器解析渲染页面
- 连接结束

## dns解析

页面访问的是域名，并不是他真实的ip地址，如www.baidu.com，需要经过dns解析出ip地址（查找过程 根域名服务器. => com顶级域名服务器 => baidu.com服务器 => www.baidu.com服务器），获取到ip地址后进行dns缓存到本地

## tcp连接

三次握手 四次挥手 略

## 发起http请求

get，post，delete，put，options

### get与post请求的区别

1. get请求参数是放在url后面的，post请求参数是放在body里的
2. get请求参数会保存在浏览器历史记录，post不会
3. get请求参数长度是有限制的，post请求是没有限制的
4. get请求参数只支持ascll编码，post请求支持多种编码格式
5. get请求会被浏览器主动缓存，post请求不会，除非手动设置
6. get请求回退是无害的，post请求会再次发起请求
7. get请求可以被浏览器标记书签，post不行
8. post请求比get请求安全
9. get请求只能url编码，post请求支持多种编码

### 请求三部分

1. general
2. 请求头
3. 响应头

### 浏览器缓存

1. 强缓存
2. 协商缓存

强缓存：客户端去浏览器缓存请求数据，如果浏览器缓存有需要的数据且未过期（），就会返回需要的数据，
        如果缓存数据失效，就会告知客户端失效，客户端就会去服务器请求数据，服务器返回数据和缓存规则，客户端拿到数据和缓存规则后存入缓存数据库
        http1.0 expires(响应头) 时间戳，有缺陷，以本地时间为准，本地时间可改 http1.1 cach-control(响应头) 相对时间max-age
协商缓存：当强缓存失效后，浏览器缓存会返回一个缓存标识给客户端，客户端会带着缓存标识去请求服务器，当服务器的资源没有更新，就会返回304状态码告知客户端，客户端再去浏览器缓存请求缓存结果，浏览器缓存返回结果；如果更新了，就会返回最新的资源，状态码200，客户端再将结果和缓存标识存到浏览器缓存内
last-modified(响应头) 服务器最后修改时间/if-last-modified(请求头) 如果存在，带的也是最后修改时间
Etag(响应头) / If-None-Match(请求头) 资源文件的标识，两个相同返回304